var cov_2g47o7b5cd=function(){var path="/Users/ikram/Documents/TP3_4420A/services/mongo/team.js";var hash="926e80e2a3b956207a7a2bcdcef71acb74d75478";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/ikram/Documents/TP3_4420A/services/mongo/team.js",statementMap:{"0":{start:{line:10,column:23},end:{line:26,column:1}},"1":{start:{line:10,column:29},end:{line:26,column:1}},"2":{start:{line:12,column:2},end:{line:25,column:5}},"3":{start:{line:13,column:4},end:{line:24,column:5}},"4":{start:{line:13,column:13},end:{line:13,column:32}},"5":{start:{line:15,column:19},end:{line:22,column:10}},"6":{start:{line:17,column:10},end:{line:21,column:11}},"7":{start:{line:18,column:12},end:{line:18,column:93}},"8":{start:{line:20,column:12},end:{line:20,column:55}},"9":{start:{line:23,column:6},end:{line:23,column:26}},"10":{start:{line:28,column:0},end:{line:32,column:1}},"11":{start:{line:29,column:2},end:{line:31,column:3}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:23},end:{line:10,column:24}},loc:{start:{line:10,column:29},end:{line:26,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:29},end:{line:10,column:30}},loc:{start:{line:10,column:41},end:{line:26,column:1}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:44},end:{line:12,column:45}},loc:{start:{line:12,column:66},end:{line:25,column:3}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:14},end:{line:16,column:15}},loc:{start:{line:16,column:26},end:{line:22,column:9}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:28,column:17},end:{line:28,column:18}},loc:{start:{line:28,column:23},end:{line:32,column:1}},line:28}},branchMap:{"0":{loc:{start:{line:13,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:24,column:5}},{start:{line:13,column:4},end:{line:24,column:5}}],line:13},"1":{loc:{start:{line:15,column:20},end:{line:15,column:51}},type:"cond-expr",locations:[{start:{line:15,column:40},end:{line:15,column:42}},{start:{line:15,column:45},end:{line:15,column:51}}],line:15},"2":{loc:{start:{line:17,column:10},end:{line:21,column:11}},type:"if",locations:[{start:{line:17,column:10},end:{line:21,column:11}},{start:{line:17,column:10},end:{line:21,column:11}}],line:17},"3":{loc:{start:{line:18,column:19},end:{line:18,column:93}},type:"cond-expr",locations:[{start:{line:18,column:51},end:{line:18,column:53}},{start:{line:18,column:56},end:{line:18,column:93}}],line:18},"4":{loc:{start:{line:18,column:56},end:{line:18,column:93}},type:"cond-expr",locations:[{start:{line:18,column:88},end:{line:18,column:89}},{start:{line:18,column:92},end:{line:18,column:93}}],line:18},"5":{loc:{start:{line:20,column:19},end:{line:20,column:55}},type:"cond-expr",locations:[{start:{line:20,column:49},end:{line:20,column:51}},{start:{line:20,column:54},end:{line:20,column:55}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2g47o7b5cd.s[0]++;/**
 * Fonction de rappel pour récupérer les membres du laboratoire.
 *
 * @callback teamCallback
 * @param {Error} err - Objet d'erreur
 * @param {Array} results - Tableau de membres
 */const getTeamMembers=db=>{cov_2g47o7b5cd.f[0]++;cov_2g47o7b5cd.s[1]++;return callback=>{cov_2g47o7b5cd.f[1]++;cov_2g47o7b5cd.s[2]++;// COMPLET
db.collection('members').find({}).toArray(function(err,result){cov_2g47o7b5cd.f[2]++;cov_2g47o7b5cd.s[3]++;if(err){cov_2g47o7b5cd.b[0][0]++;cov_2g47o7b5cd.s[4]++;callback(err,null);}else{cov_2g47o7b5cd.b[0][1]++;const team=(cov_2g47o7b5cd.s[5]++,(result===null?(cov_2g47o7b5cd.b[1][0]++,[]):(cov_2g47o7b5cd.b[1][1]++,result)).sort((m1,m2)=>{cov_2g47o7b5cd.f[3]++;cov_2g47o7b5cd.s[6]++;if(m1.lastname===m2.lastname){cov_2g47o7b5cd.b[2][0]++;cov_2g47o7b5cd.s[7]++;return m1.firstname<m2.firstname?(cov_2g47o7b5cd.b[3][0]++,-1):(cov_2g47o7b5cd.b[3][1]++,m1.firstname>m2.firstname?(cov_2g47o7b5cd.b[4][0]++,1):(cov_2g47o7b5cd.b[4][1]++,0));}else{cov_2g47o7b5cd.b[2][1]++;cov_2g47o7b5cd.s[8]++;return m1.lastname<m2.lastname?(cov_2g47o7b5cd.b[5][0]++,-1):(cov_2g47o7b5cd.b[5][1]++,1);}}));cov_2g47o7b5cd.s[9]++;callback(null,team);}});};};cov_2g47o7b5cd.s[10]++;module.exports=db=>{cov_2g47o7b5cd.f[4]++;cov_2g47o7b5cd.s[11]++;return{getTeamMembers:getTeamMembers(db)};};